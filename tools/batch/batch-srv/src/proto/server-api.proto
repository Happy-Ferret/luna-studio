///////////////////////////////////////////////////////////////////////////
// Copyright (C) Flowbox, Inc / All Rights Reserved
// Unauthorized copying of this file, via any medium is strictly prohibited
// Proprietary and confidential
// Flowbox Team <contact@flowbox.io>, 2014
///////////////////////////////////////////////////////////////////////////

package generated.proto.batch;

import "attributes.proto";
import "crumb.proto";
import "expr.proto";
import "file-system.proto";
import "graph.proto";
import "graphview.proto";
import "library.proto";
import "module.proto";
import "nodedefault.proto";
import "pat.proto";
import "project.proto";
import "type.proto";
import "focus.proto";



message Request {
    required Method method = 1;
    enum Method {
        AST_Definitions          = 1100;
        AST_AddModule            = 1101;
        AST_AddClass             = 1102;
        AST_AddFunction          = 1103;
        AST_UpdateModuleCls      = 1104;
        AST_UpdateModuleImports  = 1105;
        AST_UpdateModuleFields   = 1106;
        AST_UpdateDataCls        = 1107;
        AST_UpdateDataCons       = 1108;
        AST_UpdateDataClasses    = 1115;
        AST_UpdateDataMethods    = 1116;
        AST_UpdateFunctionName   = 1109;
        AST_UpdateFunctionPath   = 1110;
        AST_UpdateFunctionInputs = 1111;
        AST_UpdateFunctionOutput = 1112;
        AST_Remove               = 1113;
        AST_ResolveDefinition    = 1114;

        FileSystem_LS    = 1200;
        FileSystem_Stat  = 1201;
        FileSystem_MkDir = 1202;
        FileSystem_Touch = 1203;
        FileSystem_RM    = 1204;
        FileSystem_CP    = 1205;
        FileSystem_MV    = 1206;

        Graph_NodesGraph = 1300;
        Graph_NodeByID   = 1301;
        Graph_AddNode    = 1302;
        Graph_UpdateNode = 1306;
        Graph_UpdateNodeInPlace = 1307;
        Graph_RemoveNode = 1303;
        Graph_Connect    = 1304;
        Graph_Disconnect = 1305;

        Library_Libraries     = 1400;
        Library_LibraryByID   = 1401;
        Library_CreateLibrary = 1402;
        Library_LoadLibrary   = 1403;
        Library_UnloadLibrary = 1404;
        Library_StoreLibrary  = 1405;
        Library_BuildLibrary  = 1406;
        Library_RunLibrary    = 1407;
        Library_InterpretLibrary = 1408;

        Maintenance_Initialize = 1500;
        Maintenance_Ping       = 1501;
        Maintenance_Dump       = 1502;
        Maintenance_Shutdown   = 1503;

        NodeDefault_NodeDefaults      = 1600;
        NodeDefault_SetNodeDefault    = 1601;
        NodeDefault_RemoveNodeDefault = 1602;

        Parser_ParseExpr      = 1700;
        Parser_ParsePat       = 1701;
        Parser_ParseType      = 1702;
        Parser_ParseNodeExpr  = 1703;

        Process_Processes     = 2000;
        Process_Terminate     = 2001;

        Project_Projects      = 1800;
        Project_ProjectByID   = 1801;
        Project_CreateProject = 1802;
        Project_OpenProject   = 1803;
        Project_UpdateProject = 1804;
        Project_CloseProject  = 1805;
        Project_StoreProject  = 1806;

        Properties_GetProperties = 1900;
        Properties_SetProperties = 1901;
    }
    optional bool async = 2 [default = false];

    extensions 1000 to max;
}

message Response {
    required Type type = 1;
    optional int32 id  = 2;
    
    enum Type {
        Result    = 0;
        Exception = 1;
        Accept    = 2;
    }
    extensions 1000 to max;
}

message Exception { extend Response { optional Exception rsp = 1000; }
    optional string message = 1;
}


message AST {
    message Definitions {
        message Args   { extend Request  { optional Args   req = 1100; }
            optional int32 maxDepth  = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1100; }
            required generated.proto.focus.Focus focus = 1;
        }   
    }
    message AddModule {
        message Args   { extend Request  { optional Args   req = 1101; }
            required generated.proto.module.Module module = 1;
            required generated.proto.crumb.Breadcrumbs parentbc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1101; } 
            required generated.proto.module.Module module = 1;
        }   
    }
    message AddClass {
        message Args   { extend Request  { optional Args   req = 1102; }
            required generated.proto.expr.Expr class_      = 1;
            required generated.proto.crumb.Breadcrumbs parentbc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1102; } 
            required generated.proto.expr.Expr class_      = 1;
        }   
    }
    message AddFunction {
        message Args   { extend Request  { optional Args   req = 1103; }
            required generated.proto.expr.Expr function   = 1;
            required generated.proto.crumb.Breadcrumbs parentbc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1103; } 
            required generated.proto.expr.Expr function   = 1;
        }   
    }
    message UpdateModuleCls {
        message Args   { extend Request  { optional Args   req = 1104; }
            required generated.proto.type.Type cls        = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1104; } }   
    }
    message UpdateModuleImports {
        message Args   { extend Request  { optional Args   req = 1105; }
            repeated generated.proto.expr.Expr imports    = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1105; } }   
    }
    message UpdateModuleFields {
        message Args   { extend Request  { optional Args   req = 1106; }
            repeated generated.proto.expr.Expr fields     = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1106; } }   
    }
    message UpdateDataCls {
        message Args   { extend Request  { optional Args   req = 1107; }
            required generated.proto.type.Type cls        = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1107; } }   
    }
    message UpdateDataCons {
        message Args   { extend Request  { optional Args   req = 1108; }
            repeated generated.proto.expr.Expr cons       = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1108; } }   
    }
    message UpdateDataClasses {
        message Args   { extend Request  { optional Args   req = 1115; }
            repeated generated.proto.expr.Expr classes    = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1115; } }   
    }
    message UpdateDataMethods {
        message Args   { extend Request  { optional Args   req = 1116; }
            repeated generated.proto.expr.Expr methods    = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1116; } }   
    }
    message UpdateFunctionName {
        message Args   { extend Request  { optional Args   req = 1109; }
            required string name     = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1109; } }   
    }
    message UpdateFunctionPath {
        message Args   { extend Request  { optional Args   req = 1110; }
            repeated string path     = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1110; } }   
    }
    message UpdateFunctionInputs {
        message Args   { extend Request  { optional Args   req = 1111; }
            repeated generated.proto.expr.Expr inputs     = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1111; } }   
    }
    message UpdateFunctionOutput {
        message Args   { extend Request  { optional Args   req = 1112; }
            required generated.proto.type.Type output     = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1112; } }   
    }
    message Remove {
        message Args   { extend Request  { optional Args   req = 1113; }
            required generated.proto.crumb.Breadcrumbs bc = 1;
            required int32 libraryID = 2;
            required int32 projectID = 3;
        }
        message Result { extend Response { optional Result rsp = 1113; } }   
    }
    message ResolveDefinition {
        message Args   { extend Request  { optional Args   req = 1114; }
            required string name = 1;
            required generated.proto.crumb.Breadcrumbs parentbc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1114; } 
            repeated generated.proto.crumb.ASTPtr astptr = 1;
        }   
    }
}

message FileSystem {
    message LS {
        message Args   { extend Request  { optional Args   req = 1200; }
            required string path = 1;
        }
        message Result { extend Response { optional Result rsp = 1200; }
            repeated generated.proto.filesystem.Item items = 1;
        }
    }
    message Stat {
        message Args   { extend Request  { optional Args   req = 1201; }
            required string path = 1;
        }
        message Result { extend Response { optional Result rsp = 1201; }
            required generated.proto.filesystem.Item item = 1;
        }
    }
    message MkDir {
        message Args   { extend Request  { optional Args   req = 1202; }
            required string path = 1;
        }
        message Result { extend Response { optional Result rsp = 1202; }
        }
    }
    message Touch {
        message Args   { extend Request  { optional Args   req = 1203; }
            required string path = 1;
        }
        message Result { extend Response { optional Result rsp = 1203; }
        }
    }
    message RM {
        message Args   { extend Request  { optional Args   req = 1204; }
            required string path = 1;
        }
        message Result { extend Response { optional Result rsp = 1204; }
        }
    }
    message CP {
        message Args   { extend Request  { optional Args   req = 1205; }
            required string src = 1;
            required string dst = 2;
        }
        message Result { extend Response { optional Result rsp = 1205; }
        }
    }
    message MV {
        message Args   { extend Request  { optional Args   req = 1206; }
            required string src = 1;
            required string dst = 2;
        }
        message Result { extend Response { optional Result rsp = 1206; }
        }
    }
}

message Graph {
    message NodesGraph {
        message Args   { extend Request  { optional Args   req = 1300; }
            required generated.proto.crumb.Breadcrumbs bc = 1;
            required int32 libraryID = 2;
            required int32 projectID = 3;
        }
        message Result { extend Response { optional Result rsp = 1300; }
            required generated.proto.graphview.GraphView graph = 1;
        }   
    }
    message NodeByID {
        message Args   { extend Request  { optional Args   req = 1301; }
            required int32 nodeID    = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1301; }
            required generated.proto.graph.Node node = 1;
        }   
    }
    message AddNode {
        message Args   { extend Request  { optional Args   req = 1302; }
            required generated.proto.graph.Node node      = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1302; }
            required int32 nodeID = 1;
        }   
    }
    message UpdateNode {
        message Args   { extend Request  { optional Args   req = 1306; }
            required generated.proto.graph.Node node      = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1306; }
            required int32 nodeID = 1;
        }   
    }
    message UpdateNodeInPlace {
        message Args   { extend Request  { optional Args   req = 1307; }
            required generated.proto.graph.Node node      = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1307; }
        }   
    }
    message RemoveNode {
        message Args   { extend Request  { optional Args   req = 1303; }
            required int32 nodeID    = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1303; } }   
    }
    message Connect {
        message Args   { extend Request  { optional Args   req = 1304; }
            required int32 srcNodeID = 1;
            repeated int32 srcPort   = 2;
            required int32 dstNodeID = 3;
            repeated int32 dstPort   = 4;
            required generated.proto.crumb.Breadcrumbs bc = 5;
            required int32 libraryID = 6;
            required int32 projectID = 7;
        }
        message Result { extend Response { optional Result rsp = 1304; } }   
    }
    message Disconnect {
        message Args   { extend Request  { optional Args   req = 1305; }
            required int32 srcNodeID = 1;
            repeated int32 srcPort   = 2;
            required int32 dstNodeID = 3;
            repeated int32 dstPort   = 4;
            required generated.proto.crumb.Breadcrumbs bc = 5;
            required int32 libraryID = 6;
            required int32 projectID = 7;
        }
        message Result { extend Response { optional Result rsp = 1305; } }   
    }
}

message Library {
    message Libraries {
        message Args   { extend Request  { optional Args   req = 1400; } 
            required int32 projectID = 1;
        }
        message Result { extend Response { optional Result rsp = 1400; } 
            repeated generated.proto.library.Library libraries = 1;
        }
    }
    message LibraryByID {
        message Args   { extend Request  { optional Args   req = 1401; } 
            required int32 libraryID = 1;
            required int32 projectID = 2;
        }
        message Result { extend Response { optional Result rsp = 1401; } 
            required generated.proto.library.Library library = 1;
        }
    }
    message CreateLibrary {
        message Args   { extend Request  { optional Args   req = 1402; } 
            required string name      = 1;
            required string path      = 2;
            required int32  projectID = 3;
        }
        message Result { extend Response { optional Result rsp = 1402; } 
            required generated.proto.library.Library library = 1;
        }
    }
    message LoadLibrary {
        message Args   { extend Request  { optional Args   req = 1403; } 
            required string path      = 1;
            required int32  projectID = 2;
        }
        message Result { extend Response { optional Result rsp = 1403; } 
            required generated.proto.library.Library library = 1;
        }
    }
    message UnloadLibrary {
        message Args   { extend Request  { optional Args   req = 1404; } 
            required int32 libraryID = 1;
            required int32 projectID = 2;
        }
        message Result { extend Response { optional Result rsp = 1404; } }
    }
    message StoreLibrary {
        message Args   { extend Request  { optional Args   req = 1405; } 
            required int32 libraryID = 1;
            required int32 projectID = 2;
        }
        message Result { extend Response { optional Result rsp = 1405; } }
    }
    message BuildLibrary {
        message Args   { extend Request  { optional Args   req = 1406; } 
            required int32 libraryID = 1;
            required int32 projectID = 2;
        }
        message Result { extend Response { optional Result rsp = 1406; } }
    }
    message RunLibrary {
        message Args   { extend Request  { optional Args   req = 1407; } 
            required int32 libraryID = 1;
            required int32 projectID = 2;
        }
        message Result { extend Response { optional Result rsp = 1407; } 
            required int32 processID = 1;
        }
    }
    message InterpretLibrary {
        message Args   { extend Request  { optional Args   req = 1408; } 
            required int32 libraryID = 1;
            required int32 projectID = 2;
        }
        message Result { extend Response { optional Result rsp = 1408; } }
    }
}

message Maintenance {
    message Initialize {
        message Args   { extend Request  { optional Args   req = 1500; } }
        message Result { extend Response { optional Result rsp = 1500; } }   
    }
    message Ping {
        message Args   { extend Request  { optional Args   req = 1501; }
            optional bytes data = 1;
        }
        message Result { extend Response { optional Result rsp = 1501; } 
            optional bytes data = 1;
        }
    }
    message Dump {
        message Args   { extend Request  { optional Args   req = 1502; } }
        message Result { extend Response { optional Result rsp = 1502; } }
    }
    message Shutdown {
        message Args   { extend Request  { optional Args   req = 1503; } }
        message Result { extend Response { optional Result rsp = 1503; } }
    }
}

message NodeDefault {
    message NodeDefaults {
        message Args   { extend Request  { optional Args   req = 1600; }
            required int32 nodeID    = 1;
            required generated.proto.crumb.Breadcrumbs bc = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1600; }
            required generated.proto.nodedefault.DefaultsMap defaultsMap = 1;
        }   
    }
    message SetNodeDefault {
        message Args   { extend Request  { optional Args   req = 1601; }
            repeated int32 inPort    = 1;
            required string value    = 2;
            required int32 nodeID    = 3;
            required generated.proto.crumb.Breadcrumbs bc = 4;
            required int32 libraryID = 5;
            required int32 projectID = 6;
        }
        message Result { extend Response { optional Result rsp = 1601; } }   
    }
    message RemoveNodeDefault {
        message Args   { extend Request  { optional Args   req = 1602; }
            repeated int32 inPort    = 1;
            required int32 nodeID    = 2;
            required generated.proto.crumb.Breadcrumbs bc = 3;
            required int32 libraryID = 4;
            required int32 projectID = 5;
        }
        message Result { extend Response { optional Result rsp = 1602; } }   
    }
}

message Parser {
    message ParseExpr {
        message Args   { extend Request  { optional Args   req = 1700; }
            required string str = 1;
        }
        message Result { extend Response { optional Result rsp = 1700; }
            required generated.proto.expr.Expr expr = 1;
        }   
    }
    message ParsePat {
        message Args   { extend Request  { optional Args   req = 1701; }
            required string str = 1;
        }
        message Result { extend Response { optional Result rsp = 1701; }
            required generated.proto.pat.Pat pat = 1;
        }   
    }
    message ParseType {
        message Args   { extend Request  { optional Args   req = 1702; }
            required string str = 1;
        }
        message Result { extend Response { optional Result rsp = 1702; }
            required generated.proto.type.Type type = 1;
        }   
    }
    message ParseNodeExpr {
        message Args   { extend Request  { optional Args   req = 1703; }
            required string str = 1;
        }
        message Result { extend Response { optional Result rsp = 1703; }
            required generated.proto.expr.Expr expr = 1;
        }   
    }
}

message Process {
    message Processes {
        message Args   { extend Request  { optional Args   req = 2000; }
            required int32 projectID = 1;
        }
        message Result { extend Response { optional Result rsp = 2000; }
            repeated int32 processes = 1;
        }   
    }
    message Terminate {
        message Args   { extend Request  { optional Args   req = 2001; }
            required int32 projectID = 1;
            required int32 processID = 2;
        }
        message Result { extend Response { optional Result rsp = 2001; }
        }   
    }
}


message Project {
    message Projects {
        message Args   { extend Request  { optional Args   req = 1800; } }
        message Result { extend Response { optional Result rsp = 1800; }
            repeated generated.proto.project.Project projects = 1;
        }   
    }
    message ProjectByID {
        message Args   { extend Request  { optional Args   req = 1801; }
            required int32 projectID = 1;
        }
        message Result { extend Response { optional Result rsp = 1801; }
            required generated.proto.project.Project project = 1;
        }   
    }
    message CreateProject {
        message Args   { extend Request  { optional Args   req = 1802; }
            required string name = 1;
            required string path = 2;
            required generated.proto.attributes.Attributes attributes = 3;
        }
        message Result { extend Response { optional Result rsp = 1802; }
            required generated.proto.project.Project project = 1;
        }   
    }
    message OpenProject {
        message Args   { extend Request  { optional Args   req = 1803; }
            required string path = 1;
        }
        message Result { extend Response { optional Result rsp = 1803; }
            required generated.proto.project.Project project = 1;
        }   
    }
    message UpdateProject {
        message Args   { extend Request  { optional Args   req = 1804; }
            required generated.proto.project.Project project = 1;
        }
        message Result { extend Response { optional Result rsp = 1804; } }   
    }    
    message CloseProject {
        message Args   { extend Request  { optional Args   req = 1805; }
            required int32 projectID = 1;
        }
        message Result { extend Response { optional Result rsp = 1805; } }   
    }
    message StoreProject {
        message Args   { extend Request  { optional Args   req = 1806; }
            required int32 projectID = 1;
        }
        message Result { extend Response { optional Result rsp = 1806; } }   
    }
}

message Properties {
    message GetProperties {
        message Args   { extend Request  { optional Args   req = 1900; }
            required int32 nodeID    = 1;
            required int32 libraryID = 2;
            required int32 projectID = 3;
        }
        message Result { extend Response { optional Result rsp = 1900; }
            required generated.proto.attributes.Properties properties = 1;
        }   
    }
    message SetProperties {
        message Args   { extend Request  { optional Args   req = 1901; }
            required generated.proto.attributes.Properties properties = 1;
            required int32 nodeID    = 2;
            required int32 libraryID = 3;
            required int32 projectID = 4;
        }
        message Result { extend Response { optional Result rsp = 1901; } }   
    }
}
