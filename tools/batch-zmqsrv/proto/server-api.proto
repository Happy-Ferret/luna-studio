///////////////////////////////////////////////////////////////////////////
// Copyright (C) Flowbox, Inc / All Rights Reserved
// Unauthorized copying of this file, via any medium is strictly prohibited
// Proprietary and confidential
// Flowbox Team <contact@flowbox.io>, 2013
///////////////////////////////////////////////////////////////////////////

package generated.proto;

import "file-system.proto";



message Method {
    required Name name = 1;
    enum Name {
        Initialize = 0;
        Ping       = 1;
        Dump       = 2;
        Shutdown   = 3;

        LS    = 4;
        Stat  = 5;
        MkDir = 6;
        Touch = 7;
        RM    = 8;
        CP    = 9;
        MV    = 10;
    }
}

message Response {
    required Type type = 1;

    enum Type {
        Result    = 0;
        Exception = 1;
    }
}

message Exception {
    optional string message = 1;
}

message Maintenance {
    message Initialize {
        message Args   { }
        message Result { }   
    }
    message Ping {
        message Args   { }
        message Result { }
    }
    message Dump {
        message Args   { }
        message Result { }
    }
    message Shutdown {
        message Args   { }
        message Result { }   
    }
}

message FileSystem {
    message LS {
        message Args {
            required string path = 1;
        }
        message Result {
            repeated FSItem items = 1;
        }
    }
    message Stat {
        message Args {
            required string path = 1;
        }
        message Result {
            optional FSItem item = 1;
        }
    }
    message MkDir {
        message Args {
            required string path = 1;
        }
        message Result {
        }
    }
    message Touch {
        message Args {
            required string path = 1;
        }
        message Result {
        }
    }
    message RM {
        message Args {
            required string path = 1;
        }
        message Result {
        }
    }
    message CP {
        message Args {
            required string src = 1;
            required string dst = 2;
        }
        message Result {
        }
    }
    message MV {
        message Args {
            required string src = 1;
            required string dst = 2;
        }
        message Result {
        }
    }
}